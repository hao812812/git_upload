<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script type="text/javascript" src="HashMap.js"></script>
  <script type="text/javascript">

    window.onload = function () {

      const map = new HashMap();
      const putButton = document.getElementById('put');
      const clearButton = document.getElementById('clear');
      const resultId = document.getElementById('result')
      const key = document.getElementById('key');
      const value = document.getElementById('value');

      //按下PUT button
      putButton.addEventListener('click', function () {

        let keyValue = key.value;
        let valueOfValue = value.value;

        //判斷不能為空 且 key不重複
        if (!(keyValue.trim())) {

          alert('key值不可為空!!');
          return;

        } else if (map.contains(keyValue)) {

          alert('key值不可重複輸入!!');
          return;

        }

        //put and get
        map.put(keyValue, valueOfValue);

        const results = document.createElement('span');
        results.innerHTML = `${keyValue} : ${map.get(keyValue)}<br>`;
        resultId.appendChild(results);//顯key:value
      })

      //按下CLEAR button
      clearButton.addEventListener('click', function () {

        map.clear();
        key.value = '';
        value.value = '';

        //清空子節點
        while (resultId.firstChild) {
          resultId.removeChild(resultId.firstChild)
        }

      })

    }


  </script>
</head>

<body>
  <div>
    <span style="display: inline-block; margin-bottom: 10px;"> KEY　 　&nbsp</span><input id="key" type="text" /><br>

    <span> VALUE　 </span><input id="value" type="text" /><br>

    <hr style="margin-top: 20px;">
    <div style="margin-top: 20px;">
      <button id="put" style="margin-left: 10px;">PUT</button>
      <button id="clear" style="margin-left: 15px;">CLEAR</button>
    </div>
    <hr style="margin-top: 20px;">

    <!--result結果-->
    <p>【RESULT】</p>
    <div id="result" style="margin-left:30px;">

    </div>

  </div>
</body>

</html>